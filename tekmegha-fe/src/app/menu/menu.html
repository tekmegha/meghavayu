@if (isLoading) {
  <app-skeleton-loader></app-skeleton-loader>
} @else {
  <div class="menu-container">
    <h1>Our Coffee Menu</h1>

    <!-- Search Bar -->
    <div class="search-container">
      <div class="search-input-wrapper">
        <span class="material-icons search-icon">search</span>
        <input 
          type="text" 
          class="search-input"
          placeholder="Search coffee, drinks, pastries..."
          [(ngModel)]="searchQuery"
          (input)="onSearchChange()"
        >
        @if (searchQuery) {
          <button class="clear-search" (click)="searchQuery = ''; onSearchChange()">
            <span class="material-icons">close</span>
          </button>
        }
      </div>
    </div>

    <!-- Category Filter -->
    <div class="category-filter">
      @for (category of categories; track category.id) {
        <button 
          class="category-button"
          [class.active]="selectedCategory === category.id"
          (click)="onCategoryChange(category.id)"
        >
          {{ category.name }}
        </button>
      }
    </div>

    <!-- Products Grid -->
    <div class="menu-items-grid">
      @for (product of filteredProducts; track product.id) {
        <app-product-tile
          [product]="product"
        ></app-product-tile>
      }
    </div>

    @if (filteredProducts.length === 0) {
      <div class="no-products">
        <h3>No products found</h3>
        <p>Try selecting a different category or check back later.</p>
      </div>
    }
  </div>
}
